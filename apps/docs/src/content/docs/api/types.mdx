---
title: Types and Interfaces API
description: Complete reference for all TypeScript types and interfaces
---

import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Badge } from '@/components/ui/badge';

# Types and Interfaces API

Complete reference for all TypeScript types and interfaces exported by next-unified-query.

## Core Types

### QueryKey <Badge variant="secondary">Type</Badge>

Type for query cache keys.

```typescript
type QueryKey = readonly unknown[]
```

```typescript
// Valid query keys
const key1: QueryKey = ['users'];
const key2: QueryKey = ['user', 123];
const key3: QueryKey = ['users', { filter: 'active', page: 1 }];
const key4: QueryKey = ['posts', userId, 'comments', { sort: 'date' }];
```

### QueryState <Badge variant="secondary">Type</Badge>

Possible states for a query.

```typescript
type QueryState = 'idle' | 'loading' | 'error' | 'success'
```

### HttpMethod <Badge variant="secondary">Type</Badge>

Supported HTTP methods.

```typescript
type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH' | 'HEAD' | 'OPTIONS'
```

## Configuration Types

### FetchConfig <Badge variant="secondary">Interface</Badge>

Base configuration for fetch operations.

```typescript
interface FetchConfig {
  baseURL?: string
  timeout?: number
  headers?: HeadersInit
  params?: Record<string, any>
  signal?: AbortSignal
  credentials?: RequestCredentials
  mode?: RequestMode
  cache?: RequestCache
  redirect?: RequestRedirect
  referrer?: string
  referrerPolicy?: ReferrerPolicy
  integrity?: string
  keepalive?: boolean
  window?: null
  
  // Next.js specific
  next?: {
    revalidate?: number | false
    tags?: string[]
  }
  
  // Custom options
  responseType?: ResponseType
  validateStatus?: (status: number) => boolean
  transformRequest?: (data: any, headers: Headers) => any
  transformResponse?: (data: any) => any
  paramsSerializer?: (params: any) => string
  maxContentLength?: number
  maxBodyLength?: number
  decompress?: boolean
}
```

### RequestConfig <Badge variant="secondary">Interface</Badge>

Configuration for individual requests.

```typescript
interface RequestConfig extends FetchConfig {
  method?: HttpMethod
  data?: any
  url?: string
}
```

### QueryConfig <Badge variant="secondary">Type</Badge>

Configuration for queries.

```typescript
type QueryConfig<T = any> = {
  cacheKey: QueryKey
  url?: string
  queryFn?: (fetcher: QueryFetcher) => Promise<T>
  schema?: ZodSchema<T>
  enabled?: boolean
  staleTime?: number
  gcTime?: number
  refetchInterval?: number | false
  refetchIntervalInBackground?: boolean
  refetchOnMount?: boolean | 'always'
  refetchOnWindowFocus?: boolean | 'always'
  refetchOnReconnect?: boolean | 'always'
  retry?: boolean | number | RetryFunction
  retryDelay?: number | RetryDelayFunction
  select?: (data: T) => unknown
  suspense?: boolean
  keepPreviousData?: boolean
  placeholderData?: T | (() => T)
  structuralSharing?: boolean | ((oldData: T | undefined, newData: T) => T)
  meta?: Record<string, unknown>
  onSuccess?: (data: T) => void
  onError?: (error: FetchError) => void
  onSettled?: (data: T | undefined, error: FetchError | null) => void
}
```

### MutationConfig <Badge variant="secondary">Type</Badge>

Configuration for mutations.

```typescript
type MutationConfig<TData = any, TVariables = any> = {
  mutationFn: (variables: TVariables, fetcher: NextTypeFetch) => Promise<TData>
  mutationKey?: MutationKey
  retry?: boolean | number | RetryFunction
  retryDelay?: number | RetryDelayFunction
  gcTime?: number
  meta?: Record<string, unknown>
  onMutate?: (variables: TVariables) => Promise<any> | any
  onSuccess?: (data: TData, variables: TVariables, context: any) => Promise<any> | any
  onError?: (error: FetchError, variables: TVariables, context: any) => Promise<any> | any
  onSettled?: (data: TData | undefined, error: FetchError | null, variables: TVariables, context: any) => Promise<any> | any
}
```

## Response Types

### NextTypeResponse <Badge variant="secondary">Interface</Badge>

Response wrapper with data and metadata.

```typescript
interface NextTypeResponse<T = any> {
  data: T
  status: number
  statusText: string
  headers: Headers
  config: RequestConfig
  request?: Request
}
```

### CancelablePromise <Badge variant="secondary">Interface</Badge>

Promise with cancellation support.

```typescript
interface CancelablePromise<T> extends Promise<T> {
  cancel: () => void
  [Symbol.toStringTag]: string
}
```

## Observer Types

### QueryObserverOptions <Badge variant="secondary">Type</Badge>

Options for QueryObserver.

```typescript
type QueryObserverOptions<T = unknown> = QueryConfig<T> & {
  // Additional observer-specific options
  notifyOnChangeProps?: Array<keyof QueryObserverResult>
  notifyOnChangePropsExclusions?: Array<keyof QueryObserverResult>
}
```

### QueryObserverResult <Badge variant="secondary">Interface</Badge>

Result from QueryObserver.

```typescript
interface QueryObserverResult<T = unknown, E = unknown> {
  data: T | undefined
  error: E | null
  isLoading: boolean
  isFetching: boolean
  isSuccess: boolean
  isError: boolean
  isPending: boolean
  isStale: boolean
  isPlaceholderData: boolean
  isRefetchError: boolean
  isRefetching: boolean
  status: QueryState
  fetchStatus: 'fetching' | 'paused' | 'idle'
  refetch: (options?: RefetchOptions) => Promise<QueryObserverResult<T, E>>
  remove: () => void
  dataUpdatedAt: number
  errorUpdatedAt: number
  failureCount: number
  failureReason: E | null
}
```

## Cache Types

### QueryCacheOptions <Badge variant="secondary">Interface</Badge>

Options for query cache configuration.

```typescript
interface QueryCacheOptions {
  onError?: (error: unknown, query: Query) => void
  onSuccess?: (data: unknown, query: Query) => void
  onSettled?: (data: unknown | undefined, error: unknown | null, query: Query) => void
}
```

### QueryClientOptionsWithInterceptors <Badge variant="secondary">Interface</Badge>

QueryClient options with interceptor support.

```typescript
interface QueryClientOptionsWithInterceptors extends QueryClientOptions {
  interceptors?: {
    request?: RequestInterceptor[]
    response?: ResponseInterceptor[]
    error?: ErrorInterceptor[]
  }
}
```

## Interceptor Types

### RequestInterceptor <Badge variant="secondary">Type</Badge>

Request interceptor function.

```typescript
type RequestInterceptor = (
  config: RequestConfig
) => RequestConfig | Promise<RequestConfig>
```

### ResponseInterceptor <Badge variant="secondary">Type</Badge>

Response interceptor function.

```typescript
type ResponseInterceptor = (
  response: NextTypeResponse
) => NextTypeResponse | Promise<NextTypeResponse>
```

### ErrorInterceptor <Badge variant="secondary">Type</Badge>

Error interceptor function.

```typescript
type ErrorInterceptor = (
  error: FetchError
) => FetchError | Promise<FetchError>
```

### InterceptorHandle <Badge variant="secondary">Interface</Badge>

Handle for managing interceptors.

```typescript
interface InterceptorHandle {
  fulfilled: RequestInterceptor | ResponseInterceptor
  rejected?: ErrorInterceptor
}
```

## Factory Types

### Type Extractors <Badge variant="secondary">Utilities</Badge>

Utility types for extracting types from factories.

```typescript
// Extract parameter type from query factory
type ExtractParams<T> = T extends {
  query: (params: infer P, ...args: any[]) => any
} ? P : never

// Extract data type from query factory
type ExtractQueryData<T> = T extends {
  query: (...args: any[]) => Promise<infer D>
} ? D : never

// Extract variables type from mutation factory
type ExtractMutationVariables<T> = T extends {
  mutate: (variables: infer V, ...args: any[]) => any
} ? V : never

// Extract data type from mutation factory
type ExtractMutationData<T> = T extends {
  mutate: (...args: any[]) => Promise<infer D>
} ? D : never

// Extract error type from mutation factory
type ExtractMutationError<T> = T extends {
  error?: infer E
} ? E : never
```

### Usage Examples

```typescript
// Define factories
const userQueries = createQueryFactory({
  baseURL: '/api/users',
  get: {
    query: (params: { id: string }) => `/api/users/${params.id}`,
    schema: userSchema,
  },
});

const userMutations = createMutationFactory({
  baseURL: '/api/users',
  create: {
    method: 'POST',
    schema: userSchema,
  },
});

// Extract types
type GetUserParams = ExtractParams<typeof userQueries.get>;
// { id: string }

type UserData = ExtractQueryData<typeof userQueries.get>;
// { id: string; name: string; email: string }

type CreateUserVars = ExtractMutationVariables<typeof userMutations.create>;
// { name: string; email: string; password: string }

type CreateUserData = ExtractMutationData<typeof userMutations.create>;
// { id: string; name: string; email: string }
```

## Fetch Client Types

### NextTypeFetch <Badge variant="secondary">Interface</Badge>

Main fetch client interface with all HTTP methods.

```typescript
interface NextTypeFetch {
  request<T = any>(config: RequestConfig): CancelablePromise<NextTypeResponse<T>>
  get<T = any>(url: string, config?: RequestConfig): CancelablePromise<NextTypeResponse<T>>
  delete<T = any>(url: string, config?: RequestConfig): CancelablePromise<NextTypeResponse<T>>
  head<T = any>(url: string, config?: RequestConfig): CancelablePromise<NextTypeResponse<T>>
  options<T = any>(url: string, config?: RequestConfig): CancelablePromise<NextTypeResponse<T>>
  post<T = any>(url: string, data?: any, config?: RequestConfig): CancelablePromise<NextTypeResponse<T>>
  put<T = any>(url: string, data?: any, config?: RequestConfig): CancelablePromise<NextTypeResponse<T>>
  patch<T = any>(url: string, data?: any, config?: RequestConfig): CancelablePromise<NextTypeResponse<T>>
  
  interceptors: Interceptors
  defaults: FetchConfig
}
```

### QueryFetcher <Badge variant="secondary">Interface</Badge>

Limited fetch client for queries (GET/HEAD only).

```typescript
interface QueryFetcher {
  get<T = any>(url: string, config?: RequestConfig): CancelablePromise<NextTypeResponse<T>>
  head<T = any>(url: string, config?: RequestConfig): CancelablePromise<NextTypeResponse<T>>
}
```

## Validation Types

### InferIfZodSchema <Badge variant="secondary">Type</Badge>

Utility type for inferring types from Zod schemas.

```typescript
type InferIfZodSchema<T> = T extends ZodSchema<infer U> ? U : T
```

```typescript
const userSchema = z.object({
  id: z.number(),
  name: z.string(),
});

type User = InferIfZodSchema<typeof userSchema>;
// { id: number; name: string }

type NotSchema = InferIfZodSchema<string>;
// string
```

## Error Types

### ErrorCodeType <Badge variant="secondary">Type</Badge>

Union of all error codes.

```typescript
type ErrorCodeType = 
  | "ERR_NETWORK"
  | "ERR_CANCELED"
  | "ERR_TIMEOUT"
  | "ERR_BAD_RESPONSE"
  | "ERR_VALIDATION"
  | "ERR_VALIDATION_UNKNOWN"
  | "ERR_UNKNOWN"
```

### ApiErrorResponse <Badge variant="secondary">Interface</Badge>

Standard API error response format.

```typescript
interface ApiErrorResponse {
  message: string
  code?: string
  details?: Record<string, any>
  errors?: Array<{
    field: string
    message: string
    code?: string
  }>
}
```

## Utility Types

### Prettify <Badge variant="secondary">Type</Badge>

Utility type for better IDE type display.

```typescript
type Prettify<T> = {
  [K in keyof T]: T[K]
} & {}
```

### DeepPartial <Badge variant="secondary">Type</Badge>

Makes all properties optional recursively.

```typescript
type DeepPartial<T> = T extends object ? {
  [P in keyof T]?: DeepPartial<T[P]>
} : T
```

## See Also

- [TypeScript Guide](/docs/type-safety/overview) - Using types effectively
- [Factory Patterns](/docs/factory-patterns) - Type-safe factories
- [Error Handling](/docs/api/error-handling) - Error types reference
- [Configuration](/docs/configuration) - Configuration types